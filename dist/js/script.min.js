let pokemonRepository = (() => { let t = [], e = "https://pokeapi.co/api/v2/pokemon/?limit=150"; function n(e) { "object" == typeof e ? t.push(e) : console.log("Invalid input"); } function o(t) { let e = document.querySelector(".modal-title"), n = document.querySelector(".modal-body"); e.innerText = "", n.innerHTML = ""; let o = `<h1 class="modal-title px-4">${t.name}</h1>`, i = document.createElement("img"); i.classList.add("modal-img", "el-image", "mx-auto", "d-block"), i.setAttribute("src", t.imageUrl); let l = document.createElement("p"); l.classList.add("modal-text", "px-4"), l.innerText = `Height: ${t.height / 10} m`; let a = document.createElement("p"); a.classList.add("modal-text", "px-4"), a.innerText = `Types: ${t.types}`, e.innerHTML = o, n.appendChild(i), n.appendChild(l), n.appendChild(a); } function i(t) { let e = t.detailsUrl; return fetch(e).then(function (t) { return t.json(); }).then(function (e) { t.imageUrl = e.sprites.front_default, t.height = e.height, t.types = e.types.map(function (t) { return t.type.name; }); }).catch(function (t) { console.error(t); }); } return { getAll: function () { return t; }, add: n, addListItem: function (t, e) { let n = document.querySelector("ul"), l = document.createElement("li"), a = document.createElement("button"); a.innerText = `${e + 1}. ${t.name}`, l.classList.add("list-group"), a.classList.add("list-group-item", "list-group-item-light", "list-group-item-action", "col", "col-sm-5", "mx-auto", "px-5", "button"), a.setAttribute("type", "button"), a.setAttribute("data-toggle", "modal"), a.setAttribute("data-target", "#modal-container"), l.appendChild(a), n.appendChild(l), a.addEventListener("click", () => (function (t) { i(t).then(() => { o(t), console.log(t); }); })(t)); }, loadList: function () { return fetch(e).then(function (t) { return t.json(); }).then(function (t) { t.results.forEach(function (t) { n({ name: t.name, detailsUrl: t.url }); }); }).catch(function (t) { console.error(t); }); }, loadDetails: i, showModal: o }; })(); pokemonRepository.loadList().then(() => { pokemonRepository.getAll().forEach((t, e) => { pokemonRepository.addListItem(t, e); }); });